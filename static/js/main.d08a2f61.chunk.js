(window["webpackJsonpspring-racing"]=window["webpackJsonpspring-racing"]||[]).push([[0],{37:function(e,t,a){e.exports=a(67)},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(31),c=a.n(r),l=a(32),i=a.n(l),o=a(18),p=a.n(o),u=a(33),m=a(1),d=a(2),h=a(4),f=a(3),b=a(5),g=a(10),E=a(13),v=a(12),y=a.n(v),N=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(s.Component),S=Object(E.g)(N),k=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleShowLogOutOverlay=function(){a.setState({showLogOut:!0})},a.handleHideLogOutOverlay=function(){a.setState({showLogOut:!1})},a.handleLogOut=function(){localStorage.clear(),window.location.href="/login"},a.state={showLogOut:!1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props&&t===this.state)}},{key:"render",value:function(){var e=this,t="Log In"===this.props.page?"":n.a.createElement(g.b,{to:this.props.path+"information",key:"a",className:"info-icon",activeClassName:"selected"},"i"),a=this.state.showLogOut?n.a.createElement("div",{key:"b",className:"overlay",onClick:this.handleHideLogOutOverlay},n.a.createElement("button",{className:"btn",type:"button",onClick:this.handleLogOut},"Log Out")):"",s=this.props.punters.find(function(t){return t.punterId===e.props.user}),r="Log In"===this.props.page?"":n.a.createElement("img",{key:"c",className:"profile-pic",src:"pics/"+s.pic,alt:"profile-pic",onClick:this.handleShowLogOutOverlay}),c=!0===this.props.isAdmin&&"Log In"!==this.props.page?n.a.createElement(g.b,{to:this.props.path+"admin",key:"d",className:"icon-admin",activeClassName:"selected"}):"",l=this.props.loadingData?"reload-btn loading":"reload-btn";return[t,a,r,c,"Log In"!==this.props.page?n.a.createElement("button",{key:"e",className:l,onClick:this.props.onReloadData},n.a.createElement("span",{className:"icon-reload"})):"",n.a.createElement("h2",{key:"f"},"Spring Racing Tipping ",n.a.createElement("img",{src:"horse.png",alt:"Title logo"}),n.a.createElement("span",{className:"beta"},"BETA")),n.a.createElement("h3",{key:"g"},this.props.page),n.a.createElement("p",{key:"h"},this.props.text)]}}]),t}(s.Component),w=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handlePunterSelect=function(e){a.setState({user:parseInt(e.target.value,10),wrongPassword:!1})},a.handlePasswordFocus=function(e){a.setState({focused:!0})},a.handlePasswordBlur=function(e){a.setState({focused:!1})},a.handlePasswordChange=function(e){a.setState({password:e.target.value,wrongPassword:!1})},a.handleLoginClick=function(){var e=a.props.punters.find(function(e){return e.punterId===a.state.user});e.password===a.state.password?(a.setState({wrongPassword:!1}),a.props.handleLogin(a.state.user,e.isAdmin),a.props.history.push(a.props.path+"results")):a.setState({wrongPassword:!0})},a.state={user:1,password:"",wrongPassword:!1,focused:!1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props&&t===this.state)}},{key:"render",value:function(){for(var e=this.props.punters.sort(function(e,t){return e.name.first.localeCompare(t.name.first)}),t=0,a=e.length;t<a;t++)"Top"!==e[t].name.first&&"Bottom"!==e[t].name.first&&"1, 2, 3"!==e[t].name.first||e.push(e.splice(t,1)[0]);var s=e.map(function(e){return n.a.createElement("option",{key:e.punterId,value:e.punterId},e.name.first," ",e.name.last)});s.unshift(n.a.createElement("option",{key:"a",value:""},"-- Select Name --"));var r=this.state.wrongPassword?"error":"error hide",c=this.state.focused||""!==this.state.password?"password-label focused":"password-label";return n.a.createElement("div",{className:"app"},n.a.createElement(k,{page:"Log In",punters:this.props.punters,user:this.props.user,isAdmin:this.props.isAdmin,text:"Please select your name from the drop down, and then enter your password to log in."}),n.a.createElement("div",{className:"selector"},n.a.createElement("select",{onChange:this.handlePunterSelect},s),n.a.createElement("span",{className:"icon-select"})),n.a.createElement("label",{htmlFor:"password",className:c},"Password"),n.a.createElement("input",{id:"password",className:"password",type:"password",defaultValue:"",onFocus:this.handlePasswordFocus,onBlur:this.handlePasswordBlur,onChange:this.handlePasswordChange}),n.a.createElement("button",{className:"btn",type:"button",onClick:this.handleLoginClick},"Log In"),n.a.createElement("div",{className:r},"The password for the name you selected is incorrect"))}}]),t}(s.Component),O=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props)}},{key:"render",value:function(){var e,t,a=this.props.meets.sort(function(e,t){return e.date.localeCompare(t.date)});return n.a.createElement("div",{className:"selector"},n.a.createElement("select",{value:this.props.selectedMeetId,onChange:this.props.onChange},a.map(function(a){return e=a.date.split("-"),t="".concat(e[2],"/").concat(e[1]),n.a.createElement("option",{key:a.meetId,value:a.meetId},a.name," (",t,")")})),n.a.createElement("span",{className:"icon-select"}))}}]),t}(s.Component),C=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){return n.a.createElement("div",{className:"menu"},n.a.createElement(g.b,{to:this.props.path+"statistics",activeClassName:"selected"},n.a.createElement("div",{className:"icon icon-pie-chart"}),"Statistics"),n.a.createElement(g.b,{to:this.props.path+"tips",activeClassName:"selected"},n.a.createElement("div",{className:"icon icon-pencil"}),"Tips"),n.a.createElement(g.b,{to:this.props.path+"results",activeClassName:"selected"},n.a.createElement("div",{className:"icon icon-clipboard"}),"Results"),n.a.createElement(g.b,{to:this.props.path+"leaderboard",activeClassName:"selected"},n.a.createElement("div",{className:"icon icon-leader-board"}),"Leaderboard"))}}]),t}(s.Component),I=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).setStateData=function(e,t){for(var s=a.state.races,n=e.find(function(e){return e.meetId===t}),r=0;r<n.races.length;r++)s[r].placings=n.races[r].placings,s[r].scratchings=n.races[r].scratchings;a.setState({races:s})},a.handlePlacingChange=function(e){var t=a.state.races,s=e.target.id.split("-")[1],n=e.target.id.split("-")[2],r=t[s-1].placings;"first"===n&&(r.first=e.target.value),"second"===n&&(r.second=e.target.value),"third"===n&&(r.third=e.target.value),a.setState({races:t})},a.handleSaveClick=function(e){var t=e.target.getAttribute("data-race"),s=a.state.races[t-1].placings;a.props.onPlacingsChange(t,s)},a.handleScratchingClick=function(e){var t=a.state.races,s=parseInt(e.target.getAttribute("data-race"),10),n=t[s-1].scratchings;if(e.target.classList.contains("scratched")){var r=n.indexOf(parseInt(e.target.innerText,10));r>-1&&n.splice(r,1),t[s-1].scratchings=n,a.setState({races:t}),a.props.onScratchingChange(s,n)}else n.push(parseInt(e.target.innerText,10)),t[s-1].scratchings=n,a.setState({races:t}),a.props.onScratchingChange(s,n)},a.state={races:[{number:1,placings:{first:"",second:"",third:""},scratchings:[]},{number:2,placings:{first:"",second:"",third:""},scratchings:[]},{number:3,placings:{first:"",second:"",third:""},scratchings:[]},{number:4,placings:{first:"",second:"",third:""},scratchings:[]},{number:5,placings:{first:"",second:"",third:""},scratchings:[]},{number:6,placings:{first:"",second:"",third:""},scratchings:[]},{number:7,placings:{first:"",second:"",third:""},scratchings:[]},{number:8,placings:{first:"",second:"",third:""},scratchings:[]},{number:9,placings:{first:"",second:"",third:""},scratchings:[]},{number:10,placings:{first:"",second:"",third:""},scratchings:[]}]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props&&t===this.state)}},{key:"componentDidMount",value:function(){this.setStateData(this.props.raceMeets,this.props.selectedMeet)}},{key:"componentWillReceiveProps",value:function(e){this.setStateData(e.raceMeets,e.selectedMeet)}},{key:"render",value:function(){for(var e,t=this,a=this.props.raceMeets.find(function(e){return e.meetId===t.props.selectedMeet}),s=[],r=[],c=0;c<a.races.length;c++){r=[];for(var l=0;l<24;l++)e="selection",this.state.races[c].scratchings.includes(l+1)&&(e+=" scratched"),r.push(n.a.createElement("div",{key:l,className:e,"data-race":c+1,onClick:this.handleScratchingClick},l+1));s.push(n.a.createElement("div",{key:c,className:"adminRace"},n.a.createElement("div",{className:"details"},n.a.createElement("span",{className:"bold"},"RACE ",a.races[c].number),n.a.createElement("span",{className:"name"},"\xa0-\xa0",a.races[c].name)),n.a.createElement("div",{className:"placings"},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"race-"+(c+1)+"-first"},"1st"),n.a.createElement("input",{id:"race-"+(c+1)+"-first",type:"tel",value:this.state.races[c].placings.first,onChange:this.handlePlacingChange})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"race-"+(c+1)+"-second"},"2nd"),n.a.createElement("input",{id:"race-"+(c+1)+"-second",type:"tel",value:this.state.races[c].placings.second,onChange:this.handlePlacingChange})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"race-"+(c+1)+"-third"},"3rd"),n.a.createElement("input",{id:"race-"+(c+1)+"-third",type:"tel",value:this.state.races[c].placings.third,onChange:this.handlePlacingChange})),n.a.createElement("button",{className:"save-btn",type:"button","data-race":c+1,onClick:this.handleSaveClick},"Save")),n.a.createElement("div",{className:"mb-10 bold"},"Set Race Status"),n.a.createElement("div",{className:"status-selector"},n.a.createElement("button",{className:"Not Run Yet"===a.races[c].status?"btn status-selector-btn selected":"btn status-selector-btn",type:"button","data-meet":a.meetId,"data-race":c+1,"data-status":"Not Run Yet",onClick:this.props.onStatusChange},"Not Run Yet"),n.a.createElement("button",{className:"About To Jump"===a.races[c].status?"btn status-selector-btn selected":"btn status-selector-btn",type:"button","data-meet":a.meetId,"data-race":c+1,"data-status":"About To Jump",onClick:this.props.onStatusChange},"About To Jump"),n.a.createElement("button",{className:"Racing"===a.races[c].status?"btn status-selector-btn selected":"btn status-selector-btn",type:"button","data-meet":a.meetId,"data-race":c+1,"data-status":"Racing",onClick:this.props.onStatusChange},"Racing"),n.a.createElement("button",{className:"Has Run"===a.races[c].status?"btn status-selector-btn selected":"btn status-selector-btn",type:"button","data-meet":a.meetId,"data-race":c+1,"data-status":"Has Run",onClick:this.props.onStatusChange},"Has Run")),n.a.createElement("div",{className:"scratching-list"},n.a.createElement("div",{className:"mb-10 bold"},"Scratchings"),n.a.createElement("div",{className:"selections"},r))))}return n.a.createElement("div",{className:"app"},n.a.createElement(k,{page:"Administration",path:this.props.path,punters:this.props.punters,user:this.props.user,onReloadData:this.props.onReloadData,loadingData:this.props.loadingData,isAdmin:this.props.isAdmin,text:"This is the Administration page used to set placings and race statuses.  In the future you will also be able to set scratchings."}),n.a.createElement(O,{meets:this.props.raceMeets,selectedMeetId:this.props.selectedMeet,onChange:this.props.onMeetChange}),n.a.createElement("div",{className:"adminRaceList"},s),n.a.createElement(C,{path:this.props.path}))}}]),t}(s.Component),M=a(36);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var A=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleTabClick=function(e){var t=1;e.target.classList.contains("two")&&(t=2),a.setState({tabSelected:t}),a.props.onTabSelect(t)},a.findMeet=function(e){return a.props.tips.find(function(t){return t.meetId===a.props.raceMeets[e].meetId})},a.findRace=function(e,t,s){return e.races.find(function(e){return e.number===a.props.raceMeets[t].races[s].number})},a.findPunter=function(e){return a.props.punters.find(function(t){return t.punterId===e})},a.findPuntersStats=function(e,t){return e.find(function(e){return e.punterId===t})},a.findPuntersStatsMeet=function(e,t){return e.meets.find(function(e){return e.meetId===t})},a.calculateStats=function(){for(var e,t,s,n,r,c,l,i,o=[],p=a.props.punters.length,u=a.props.raceMeets.length,m=[];u--;)m.push({meetId:a.props.raceMeets[u].meetId,score:0});for(;p--;)o.push({punterId:a.props.punters[p].punterId,trifectas:0,quinellas:0,firsts:0,seconds:0,thirds:0,meets:m.map(function(e){return T({},e)})});for(u=a.props.raceMeets.length;u--;)for(e=a.props.raceMeets[u].races.length;e--;)for(s=a.props.raceMeets[u].races[e].placings,n=a.findMeet(u),t=(r=a.findRace(n,u,e)).punters.length;t--;)i=0,c=a.findPuntersStats(o,r.punters[t].punterId),l=a.findPuntersStatsMeet(c,a.props.raceMeets[u].meetId),r.punters[t].tips.includes(s.first)&&(c.firsts++,i+=3),r.punters[t].tips.includes(s.second)&&(c.seconds++,i+=2),r.punters[t].tips.includes(s.third)&&(c.thirds++,i+=1),6===i&&c.trifectas++,5===i&&c.quinellas++,l.score+=i;return o},a.createStatArray=function(e,t,s){for(var r,c,l,i=0,o=e.length;i<o;i++){switch(s){case"trifectas":r=e[i].trifectas;break;case"quinellas":r=e[i].quinellas;break;case"firsts":r=e[i].firsts;break;case"seconds":r=e[i].seconds;break;case"thirds":r=e[i].thirds;break;case"meet":r=e[i].score}c=a.findPunter(e[i].punterId),l=i+1!==11&&(i+1)%10===1?"<sup>ST</sup>":i+1!==12&&(i+1)%10===2?"<sup>ND</sup>":i+1!==13&&(i+1)%10===3?"<sup>RD</sup>":"<sup>TH</sup>",t.push(n.a.createElement("div",{key:i,className:"stat-item"},n.a.createElement("div",{className:"number",dangerouslySetInnerHTML:{__html:i+1+l}}),n.a.createElement("img",{src:"pics/"+c.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("div",{className:"name"},c.name.first),n.a.createElement("div",{className:"stat"},r)))}},a.state={tabSelected:1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props&&t===this.state)}},{key:"componentDidMount",value:function(){this.setState({tabSelected:this.props.selectedTab})}},{key:"render",value:function(){var e,t,a,s,r=this.calculateStats(),c=[],l=[],i=[],o=[],p=[],u=[],m=[],d=[],h=[],f=[],b=[],g=[],E=[],v=[],y=[],N=[],S=[],w=[],O=[],I=[],M=[];1===this.state.tabSelected?(e="btn tab-btn one selected",t="btn tab-btn two",a="",s="hide"):(e="btn tab-btn one",t="btn tab-btn two selected",a="hide",s="");for(var j=0,T=r.length;j<T;j++)for(var A=0,D=r[j].meets.length;A<D;A++)"TURNBULL"===r[j].meets[A].meetId&&c.push({punterId:r[j].punterId,score:r[j].meets[A].score}),"CAULGUINEAS"===r[j].meets[A].meetId&&l.push({punterId:r[j].punterId,score:r[j].meets[A].score}),"CAULCUP"===r[j].meets[A].meetId&&i.push({punterId:r[j].punterId,score:r[j].meets[A].score}),"COXPLATE"===r[j].meets[A].meetId&&o.push({punterId:r[j].punterId,score:r[j].meets[A].score}),"DERBYDAY"===r[j].meets[A].meetId&&p.push({punterId:r[j].punterId,score:r[j].meets[A].score}),"MELBCUP"===r[j].meets[A].meetId&&u.push({punterId:r[j].punterId,score:r[j].meets[A].score}),"OAKSDAY"===r[j].meets[A].meetId&&m.push({punterId:r[j].punterId,score:r[j].meets[A].score}),"STAKESDAY"===r[j].meets[A].meetId&&d.push({punterId:r[j].punterId,score:r[j].meets[A].score});return c.sort(function(e,t){return t.score-e.score}),this.createStatArray(c,h,"meet"),l.sort(function(e,t){return t.score-e.score}),this.createStatArray(l,f,"meet"),i.sort(function(e,t){return t.score-e.score}),this.createStatArray(i,b,"meet"),o.sort(function(e,t){return t.score-e.score}),this.createStatArray(o,g,"meet"),p.sort(function(e,t){return t.score-e.score}),this.createStatArray(p,E,"meet"),u.sort(function(e,t){return t.score-e.score}),this.createStatArray(u,v,"meet"),m.sort(function(e,t){return t.score-e.score}),this.createStatArray(m,y,"meet"),d.sort(function(e,t){return t.score-e.score}),this.createStatArray(d,N,"meet"),r.sort(function(e,t){return t.trifectas-e.trifectas}),this.createStatArray(r,S,"trifectas"),r.sort(function(e,t){return t.quinellas-e.quinellas}),this.createStatArray(r,w,"quinellas"),r.sort(function(e,t){return t.firsts-e.firsts}),this.createStatArray(r,O,"firsts"),r.sort(function(e,t){return t.seconds-e.seconds}),this.createStatArray(r,I,"seconds"),r.sort(function(e,t){return t.thirds-e.thirds}),this.createStatArray(r,M,"thirds"),n.a.createElement("div",{className:"app"},n.a.createElement(k,{page:"Statistics",path:this.props.path,punters:this.props.punters,user:this.props.user,onReloadData:this.props.onReloadData,loadingData:this.props.loadingData,isAdmin:this.props.isAdmin,text:"Here you can find various statistics, such as the placings for each race meet, number of trifectas, quinellas, 1sts, 2nds, 3rds, etc."}),n.a.createElement("div",{className:"tab-btns"},n.a.createElement("button",{className:e,onClick:this.handleTabClick},"Meet Scores"),n.a.createElement("button",{className:t,onClick:this.handleTabClick},"Other")),n.a.createElement("div",{className:a},n.a.createElement("div",{className:"bold mt-20 mb-10"},"Turnbull Stakes"),n.a.createElement("div",{className:"stat-container"},h),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Caulfield Guineas"),n.a.createElement("div",{className:"stat-container"},f),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Caulfield Cup"),n.a.createElement("div",{className:"stat-container"},b),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Cox Plate"),n.a.createElement("div",{className:"stat-container"},g),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Derby Day"),n.a.createElement("div",{className:"stat-container"},E),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Melbourne Cup"),n.a.createElement("div",{className:"stat-container"},v),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Oaks Day"),n.a.createElement("div",{className:"stat-container"},y),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Stakes Day"),n.a.createElement("div",{className:"stat-container"},N)),n.a.createElement("div",{className:s},n.a.createElement("div",{className:"bold mt-20 mb-10"},"Trifectas"),n.a.createElement("div",{className:"stat-container"},S),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Quinellas"),n.a.createElement("div",{className:"stat-container"},w),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Firsts"),n.a.createElement("div",{className:"stat-container"},O),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Seconds"),n.a.createElement("div",{className:"stat-container"},I),n.a.createElement("hr",null),n.a.createElement("div",{className:"bold mt-20 mb-10"},"Thirds"),n.a.createElement("div",{className:"stat-container"},M)),n.a.createElement(C,{path:this.props.path}))}}]),t}(s.Component),D=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props)}},{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement(k,{page:"Information",path:this.props.path,punters:this.props.punters,user:this.props.user,onReloadData:this.props.onReloadData,loadingData:this.props.loadingData,isAdmin:this.props.isAdmin,text:"This is where you can find a run down of how each of the pages of this app work, as well as the browser support and what some of the ideas for the future are."}),n.a.createElement("div",{className:"bold mt-20"},"Browser Support"),n.a.createElement("p",null,"While this app will work fine on tablets and desktop, it was designed for mobile screen size, and to run in the latest version of the following browsers:"),n.a.createElement("ul",{className:"browser-list"},n.a.createElement("li",null,n.a.createElement("span",{className:"browser chrome"}),"Chrome"),n.a.createElement("li",null,n.a.createElement("span",{className:"browser safari"}),"Safari"),n.a.createElement("li",null,n.a.createElement("span",{className:"browser firefox"}),"Firefox"),n.a.createElement("li",null,n.a.createElement("span",{className:"browser opera"}),"Opera")),n.a.createElement("div",{className:"bold mt-20"},"Game Accounts"),n.a.createElement("p",null,"There are three game accounts which appear in lists like regular people (excluding the leaderboard). These three accounts are:"),n.a.createElement("div",{className:"odds-totals"},n.a.createElement("div",{className:"total"},n.a.createElement("img",{src:"pics/Default.png",alt:"Profile pic",className:"pic"}),n.a.createElement("div",{className:"name"},"1, 2, 3")),n.a.createElement("div",{className:"total"},n.a.createElement("img",{src:"pics/Default.png",alt:"Profile pic",className:"pic"}),n.a.createElement("div",{className:"name"},"Top Odds")),n.a.createElement("div",{className:"total"},n.a.createElement("img",{src:"pics/Default.png",alt:"Profile pic",className:"pic"}),n.a.createElement("div",{className:"name"},"Bottom Odds"))),n.a.createElement("p",null,"1, 2, 3 = Always picks horses 1, 2 and 3."),n.a.createElement("p",null,"Top Odds = Always picks the horses with the top three odds. Decided on form if more than one horse have the same odds."),n.a.createElement("p",null,"Bottom Odds = Always picks the horses with the bottom three odds. Decided on form if more than one horse have the same odds."),n.a.createElement("div",{className:"bold mt-20"},"Tips"),n.a.createElement("p",null,"On the Tips page you can select a race meet from the drop down menu to view the list of races and their associated tips. You can submit 3 tips for each race of every race meet. If you have selected 3 horses already, but want to change a selection, then you will have to unselect a horse before you can select a new one. If you select less than 3 horses, then you simply miss out on the opprtunity to get those points."),n.a.createElement("p",null,"To select or unselect a number, you must double-click/double-tap on it. This is to help prevent people accidently selecting or unselecting things while they are just scrolling the page."),n.a.createElement("p",null,"The tips for each race meet must be submitted by 10:00am AEDT on the day of the race meet."),n.a.createElement("p",null,"The tips for all the races of a race meet will be disabled after 10:00am on the day of the meet."),n.a.createElement("div",{className:"bold mt-20"},"Results"),n.a.createElement("p",null,"On the Results page you can select a race meet to view the races for that meet, and the associated details and each punters tips for each race."),"The races appear as coloured circles below the race meet drop down. The selected race has a tapered bottom. The colours match the status of the race:",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{className:"demo-square bg-blue"})," Not Yet Run"),n.a.createElement("li",null,n.a.createElement("span",{className:"demo-square bg-orange"})," About To Jump"),n.a.createElement("li",null,n.a.createElement("span",{className:"demo-square bg-red"})," Racing"),n.a.createElement("li",null,n.a.createElement("span",{className:"demo-square bg-green"})," Has Run")),n.a.createElement("p",null,"5 minutes before a race is due to run its status will automatically change to 'About To Jump'. An admin will then have to manually set it to 'Racing' and 'Has Run' on the Admin page, as they can tend to run late."),n.a.createElement("p",null,"When you select a race you can see its details and placings appear, and below that will be a list of everybody's tips for that race. Each person's tips shows each of their 3 picks and the calculated score. Any correct tips will be shown in teal with a tick next to it."),n.a.createElement("div",{className:"bold mt-20"},"Leaderboard"),n.a.createElement("p",null,"On the Leaderboard page you can see the current rank of all the punters. The rank is determined first by people's overall score, then how many trifectas (first, second, third) they have, then how many quinellas (first, second) they have, then by number of first places, then finally second places."),n.a.createElement("p",null,"The top three will appear on the podium, everybody else will be listed in order under 'Best of the Rest'."),n.a.createElement("div",{className:"bold mt-20"},"Admin"),n.a.createElement("p",null,"Anybody who is marked as an admin will see an admin icon appear in the top right of the screen, below the profile picture ",n.a.createElement("span",{className:"icon-admin demo"})),n.a.createElement("p",null,"When you click the admin link it will take you to the Admin page. Currently on the Admin page you can set the placings, status and scratchings for each race."),n.a.createElement("p",null,"In the future I'd like to add more functionality here, like for example the ability to disable people from getting points, etc."),n.a.createElement("div",{className:"bold mt-20"},"Future Plans"),n.a.createElement("ul",{className:"marked-list"},n.a.createElement("li",null,"After the Caulfield Cup I would like to replace this information page on the menu with a Statistics section that shows various statistics, like who won each race meet, most number of trifectas, quinellas, 1st, 2nds, 3rds, etc."),n.a.createElement("li",null,"People can create accounts and it has proper authentication."),n.a.createElement("li",null,"Introduce groups, so different groups of people can have their own tipping competitions."),n.a.createElement("li",null,"To improve the design for tablet and desktop screen sizes."),n.a.createElement("li",null,"Use a service worker to allow people to pin the page to their Home screens with an icon, and cache all the files so that the page will start up instantly like a native app."),n.a.createElement("li",null,"Make a different version of the same app, but introduce some game-type elements. So it would be more for fun than serious tipping. It could also be modified to be for the greyhounds.",n.a.createElement("br",null),"Ideas for the game elements are:",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("div",null,"7 x Carrots (1 per meet probably)"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," Makes a horse surge home at the finish."),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," Earn points for one place higher than it actually finishes. Wasted if the horse comes in 1st, or 5th or below.")),n.a.createElement("li",null,n.a.createElement("div",null,"2 x Purple Carrots"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," More nutritious than regular carrots."),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," Earn points for two places higher. Wasted if the horse comes in 1st, or 6th or below. If it comes in 2nd then get the points for 1st, same as a regular carrot")),n.a.createElement("li",null,n.a.createElement("div",null,"1 x Juiced Syringe"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," Turn your nags into the Lance Armstrong of horses."),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," Get double points for a whole race meet.")),n.a.createElement("li",null,n.a.createElement("div",null,"1 x Poisioned Syringe"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," 'Phar Lap' a horse."),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," Kill a horse so nobody can get points for it for that race. Perhaps could be a bonus that is awarded to the person who wins the second meet or something, so then it is limited to only being used once by one person, but affects everyone equally?")),n.a.createElement("li",null,n.a.createElement("div",null,"1 x Shank"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," 'Monica Seles' a jockey."),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," Shank a jockey so nobody can get points for them for that race meet. Perhaps could be a bonus that is awarded to the person that wins the first meet or something, so then it is limited to only being used once by one person, but affects everyone equally?")),n.a.createElement("li",null,n.a.createElement("div",null,"7 x Glue Sticks (1 per meet probably)"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," Get out of a sticky situation."),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," If any of the horses you pick come last, send them to the glue factory to earn 1 point.")),n.a.createElement("li",null,n.a.createElement("div",null,"1 x Ricky Bobby"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," If you ain't first, your last."),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," Pick a horse to put everything on (only one tip for that race). If it comes first you get double points (6). If it comes anything else you get nothing.")),n.a.createElement("li",null,n.a.createElement("div",null,"? x Sugar Cubes"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," ?"),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," Something good?")),n.a.createElement("li",null,n.a.createElement("div",null,"? x Riding Crops"),n.a.createElement("div",null,n.a.createElement("b",null,"Tag line:")," ?"),n.a.createElement("div",null,n.a.createElement("b",null,"Explaination:")," Something good or bad?"))))),n.a.createElement("p",null,"If you come across any issues, or you have any ideas for things to add or improve, let me know via Facebook Messager or email - sanmerah@gmail.com"),n.a.createElement(C,{path:this.props.path}))}}]),t}(s.Component),R=a(16),P=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).setTips=function(e){for(var t,s,n=Object(R.a)(a),r=a.state.tips,c=function(a){t=e.tips.races.find(function(e){return e.number===a+1}),s=t.punters.find(function(e){return e.punterId===n.props.user}),r[a]={race:a+1,selections:s.tips}},l=0;l<e.meet.races.length;l++)c(l);a.setState({tips:r})},a.handleSelectionClick=function(e){var t=a.state.tips,s=parseInt(e.target.getAttribute("data-race"),10),n=t.find(function(e){return e.race===s}),r=t.indexOf(n);if(e.target.classList.contains("selected")){var c=n.selections.indexOf(e.target.innerText);c>-1&&n.selections.splice(c,1),a.setState({tips:t}),a.props.onSelectionChange(s,n)}else n.selections.length<3&&(n.selections.push(e.target.innerText),t[r]=n,a.setState({tips:t}),a.props.onSelectionChange(s,n))},a.generateList=function(){for(var e,t=[],s=[],r=0;r<a.props.meet.races.length;r++){s=[];for(var c=0;c<24;c++)e="selection",a.props.meet.races[r].scratchings.includes(c+1)&&(e+=" scratched"),a.state.tips[r].selections.includes((c+1).toString())&&(e+=" selected"),s.push(n.a.createElement("div",{key:c,className:e,"data-race":r+1,onClick:a.handleSelectionClick},c+1));t.push(n.a.createElement("div",{key:r,className:"tip-group"},n.a.createElement("div",{className:"details"},n.a.createElement("div",{className:"bold"},"RACE ",a.props.meet.races[r].number),n.a.createElement("span",null,a.props.meet.races[r].time),n.a.createElement("span",{className:"name"},"\xa0-\xa0",a.props.meet.races[r].name)),n.a.createElement("div",{className:"selections"},s)))}return t},a.state={tips:[{race:1,selections:[]},{race:2,selections:[]},{race:3,selections:[]},{race:4,selections:[]},{race:5,selections:[]},{race:6,selections:[]},{race:7,selections:[]},{race:8,selections:[]},{race:9,selections:[]},{race:10,selections:[]}]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props&&t===this.state)}},{key:"componentDidMount",value:function(){this.setTips(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setTips(e)}},{key:"render",value:function(){var e,t=this.generateList(),a=new Date(this.props.meet.date);return a.setHours(10),a.setMinutes(15),e=new Date>a?"raceList disabled":"raceList",n.a.createElement("div",{className:e},t)}}]),t}(s.Component),L=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props)}},{key:"render",value:function(){var e=this,t=this.props.raceMeets.find(function(t){return t.meetId===e.props.selectedMeet}),a=this.props.tips.find(function(t){return t.meetId===e.props.selectedMeet});return n.a.createElement("div",{className:"app"},n.a.createElement(k,{page:"Tips",path:this.props.path,punters:this.props.punters,user:this.props.user,onReloadData:this.props.onReloadData,loadingData:this.props.loadingData,isAdmin:this.props.isAdmin,text:"You want a tip?.....be good to your mother.  Otherwise, simply select 3 horses for each race.  If you already have 3 selected and want to change one, simply unselect one of them. Don't worry about saving at the end, your tips are saved every time you make a change."}),n.a.createElement("p",null,n.a.createElement("b",null,"* Tips must be in by 10:00am AEDT on race day.")),n.a.createElement("p",null,"The tips will be disabled after this time."),n.a.createElement(O,{meets:this.props.raceMeets,selectedMeetId:this.props.selectedMeet,onChange:this.props.onMeetChange}),n.a.createElement("div",{className:"tip-examples"},n.a.createElement("span",{className:"selection selected"},"18"),n.a.createElement("span",null,"Selected"),n.a.createElement("span",{className:"selection scratched"},"18"),n.a.createElement("span",null,"Scratched"),n.a.createElement("span",{className:"selection selected scratched"},"18"),n.a.createElement("span",null,"Both")),n.a.createElement(P,{meet:t,tips:a,user:this.props.user,onSelectionChange:this.props.onSelectionChange}),n.a.createElement(C,{path:this.props.path}))}}]),t}(s.Component),x=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props)}},{key:"render",value:function(){var e,t=this,a=this.props.punters.find(function(e){return e.punterId===t.props.tips.punterId}),s=0,r="",c="",l="";return(e=t.props.tips.tips.indexOf(t.props.placings.first))>-1&&(s+=3,0===e&&(r="correct"),1===e&&(c="correct"),2===e&&(l="correct")),(e=t.props.tips.tips.indexOf(t.props.placings.second))>-1&&(s+=2,0===e&&(r="correct"),1===e&&(c="correct"),2===e&&(l="correct")),(e=t.props.tips.tips.indexOf(t.props.placings.third))>-1&&(s++,0===e&&(r="correct"),1===e&&(c="correct"),2===e&&(l="correct")),n.a.createElement("div",{className:"tip"},n.a.createElement("img",{src:"pics/"+a.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("span",{className:"name"},a.name.first," ",a.name.last),n.a.createElement("div",{className:"numbers"},n.a.createElement("div",{className:"group"},n.a.createElement("span",{className:"label"},"Pick 1"),"\xa0-\xa0",n.a.createElement("span",{className:r},t.props.tips.tips[0])),n.a.createElement("div",{className:"group"},n.a.createElement("span",{className:"label"},"Pick 2"),"\xa0-\xa0",n.a.createElement("span",{className:c},t.props.tips.tips[1])),n.a.createElement("div",{className:"group"},n.a.createElement("span",{className:"label"},"Pick 3"),"\xa0-\xa0",n.a.createElement("span",{className:l},t.props.tips.tips[2]))),n.a.createElement("div",{className:"score"},n.a.createElement("div",{className:"mb-5 bold"},"Score"),n.a.createElement("div",null,s)))}}]),t}(s.Component),U=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props)}},{key:"render",value:function(){var e,t=this,a=t.props.tips.punters.map(function(e){return n.a.createElement(x,{key:e.punterId,tips:e,punters:t.props.punters,placings:t.props.race.placings})});switch(t.props.race.status){case"Has Run":e="status green";break;case"About To Jump":e="status orange";break;case"Racing":e="status red";break;case"Not Run Yet":e="status blue";break;default:e="status"}return n.a.createElement("div",{className:"race"},n.a.createElement("div",{className:"details"},n.a.createElement("div",{className:"mb-5 bold"},"Details"),n.a.createElement("div",{className:"mb-5 name"},t.props.race.name),n.a.createElement("div",{className:"mb-5"},t.props.race.time),n.a.createElement("div",{className:"mb-5"},t.props.race.distance),n.a.createElement("div",null,n.a.createElement("span",{className:"status-label"},"Status:\xa0"),n.a.createElement("span",{className:e},t.props.race.status))),n.a.createElement("div",{className:"placings"},n.a.createElement("div",{className:"mb-5 bold"},"Placings"),n.a.createElement("div",{className:"mb-5"},n.a.createElement("span",{className:"placing bold gold"},"1st"),"\xa0",t.props.race.placings.first),n.a.createElement("div",{className:"mb-5"},n.a.createElement("span",{className:"placing bold silver"},"2nd"),"\xa0",t.props.race.placings.second),n.a.createElement("div",null,n.a.createElement("span",{className:"placing bold bronze"},"3rd"),"\xa0",t.props.race.placings.third)),n.a.createElement("div",{className:"tips-heading bold"},"Tips"),n.a.createElement("div",{className:"tips"},a))}}]),t}(s.Component),q=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props)}},{key:"render",value:function(){for(var e=this,t=[],a=e.props.meet.races.find(function(t){return t.number===e.props.selectedRace}),s=e.props.meetTips.races.find(function(t){return t.number===e.props.selectedRace}),r=0;r<e.props.meet.races.length;r++){var c=void 0;switch(e.props.meet.races[r].status){case"Has Run":c="circle bg-green";break;case"About To Jump":c="circle bg-orange";break;case"Racing":c="circle bg-red";break;default:c="circle bg-blue"}e.props.meet.races[r].number===e.props.selectedRace&&(c+=" selected"),t.push(n.a.createElement("div",{key:r,id:r+1,className:c,onClick:e.props.onClick},r+1))}return n.a.createElement("div",{className:"race-meet"},n.a.createElement("div",{className:"race-selector"},t),n.a.createElement("h3",null,"RACE ",a.number),n.a.createElement(U,{race:a,punters:e.props.punters,tips:s}))}}]),t}(s.Component),H=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props)}},{key:"render",value:function(){var e=this,t=this.props.raceMeets.find(function(t){return t.meetId===e.props.selectedMeet}),a=this.props.tips.find(function(t){return t.meetId===e.props.selectedMeet});return n.a.createElement("div",{className:"app"},n.a.createElement(k,{page:"Results",path:this.props.path,punters:this.props.punters,user:this.props.user,onReloadData:this.props.onReloadData,loadingData:this.props.loadingData,isAdmin:this.props.isAdmin,text:"This is where you can see the results of the hours of peoples research, strategy and rumination....before they just picked a number because they liked the jockey's pink star-spangled uniform."}),n.a.createElement(O,{meets:this.props.raceMeets,selectedMeetId:this.props.selectedMeet,onChange:this.props.onMeetChange}),n.a.createElement(q,{meet:t,selectedRace:this.props.selectedRace,punters:this.props.punters,meetTips:a,onClick:this.props.onRaceChange}),n.a.createElement(C,{path:this.props.path}))}}]),t}(s.Component);function B(e){return[n.a.createElement("h4",{key:"a",className:"lb-heading teal"},"PODIUM"),n.a.createElement("div",{key:"b",className:"podium"},n.a.createElement("div",{className:"second"},n.a.createElement("img",{src:"pics/"+e.second.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("span",{className:"name"},e.second.name.first," ",e.second.name.last),n.a.createElement("div",{className:"bar"},n.a.createElement("div",{className:"number"},"2",n.a.createElement("sup",null,"ND")),n.a.createElement("div",{className:"points"},e.points[1].points," PTS"))),n.a.createElement("div",{className:"first"},n.a.createElement("img",{src:"pics/"+e.first.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("span",{className:"name"},e.first.name.first," ",e.first.name.last),n.a.createElement("div",{className:"bar"},n.a.createElement("div",{className:"icon-trophy"}),n.a.createElement("div",{className:"number"},"1",n.a.createElement("sup",null,"ST")),n.a.createElement("div",{className:"points"},e.points[0].points," PTS"))),n.a.createElement("div",{className:"third"},n.a.createElement("img",{src:"pics/"+e.third.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("span",{className:"name"},e.third.name.first," ",e.third.name.last),n.a.createElement("div",{className:"bar"},n.a.createElement("div",{className:"number"},"3",n.a.createElement("sup",null,"RD")),n.a.createElement("div",{className:"points"},e.points[2].points," PTS"))))]}var F=function(e){function t(){var e,a;Object(m.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).findMeet=function(e){return a.props.tips.find(function(t){return t.meetId===a.props.raceMeets[e].meetId})},a.findRace=function(e,t,s){return e.races.find(function(e){return e.number===a.props.raceMeets[t].races[s].number})},a.findPunter=function(e){return a.props.punters.find(function(t){return t.punterId===e})},a.findPuntersPoints=function(e,t){return e.find(function(e){return e.punterId===t})},a.calculatePoints=function(){for(var e,t,s,n,r,c,l,i=[],o=a.props.punters.length,p=a.props.raceMeets.length;o--;)i.push({punterId:a.props.punters[o].punterId,points:0,trifectas:0,quinellas:0,firsts:0,seconds:0,thirds:0});for(;p--;)for(e=a.props.raceMeets[p].races.length;e--;)for(s=a.props.raceMeets[p].races[e].placings,n=a.findMeet(p),t=(r=a.findRace(n,p,e)).punters.length;t--;)l=0,c=a.findPuntersPoints(i,r.punters[t].punterId),r.punters[t].tips.includes(s.first)&&(c.points+=3,l+=3,c.firsts++),r.punters[t].tips.includes(s.second)&&(c.points+=2,l+=2,c.seconds++),r.punters[t].tips.includes(s.third)&&(c.points+=1,l+=1,c.thirds++),6===l&&c.trifectas++,5===l&&c.quinellas++;return i},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props)}},{key:"render",value:function(){var e,t,a,s,r,c,l,i,o=this.calculatePoints(),p=[],u=[];e=this.findPunter(o[2].punterId),t=this.findPunter(o[1].punterId),a=this.findPunter(o[0].punterId),p.push(n.a.createElement("div",{key:"a",className:"total"},n.a.createElement("img",{src:"pics/"+e.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("div",{className:"name"},e.name.first," ",e.name.last),n.a.createElement("div",{className:"points"},o[2].points," PTS"))),p.push(n.a.createElement("div",{key:"b",className:"total"},n.a.createElement("img",{src:"pics/"+t.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("div",{className:"name"},t.name.first," ",t.name.last),n.a.createElement("div",{className:"points"},o[1].points," PTS"))),p.push(n.a.createElement("div",{key:"c",className:"total"},n.a.createElement("img",{src:"pics/"+a.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("div",{className:"name"},a.name.first," ",a.name.last),n.a.createElement("div",{className:"points"},o[0].points," PTS"))),o.shift(),o.shift(),o.shift(),o.sort(function(e,t){return t.points-e.points||t.trifectas-e.trifectas||t.quinellas-e.quinellas||t.firsts-e.firsts||t.seconds-e.seconds}),s=this.findPunter(o[0].punterId),r=this.findPunter(o[1].punterId),c=this.findPunter(o[2].punterId);for(var m=0;m<o.length;m++)0!==m&&1!==m&&2!==m&&(l=this.findPunter(o[m].punterId),i=m+1!==11&&(m+1)%10===1?"<sup>ST</sup>":m+1!==12&&(m+1)%10===2?"<sup>ND</sup>":m+1!==13&&(m+1)%10===3?"<sup>RD</sup>":"<sup>TH</sup>",u.push(n.a.createElement("div",{key:m,className:"loser"},n.a.createElement("span",{className:"number",dangerouslySetInnerHTML:{__html:m+1+i}}),n.a.createElement("span",{className:"points"},o[m].points," PTS"),n.a.createElement("img",{src:"pics/"+l.pic,alt:"Profile pic",className:"pic"}),n.a.createElement("span",{className:"name"},l.name.first," ",l.name.last))));return n.a.createElement("div",{className:"app"},n.a.createElement(k,{page:"Leaderboard",path:this.props.path,punters:this.props.punters,user:this.props.user,onReloadData:this.props.onReloadData,loadingData:this.props.loadingData,isAdmin:this.props.isAdmin,text:"To the victors go the spoils, and to the losers....go home."}),n.a.createElement("h4",{className:"lb-heading"},"GAME ACCOUNTS"),n.a.createElement("div",{className:"odds-totals"},p),n.a.createElement(B,{first:s,second:r,third:c,points:o}),n.a.createElement("h4",{className:"lb-heading"},"BEST OF THE REST"),u,n.a.createElement(C,{path:this.props.path}))}}]),t}(s.Component),Y=(a(65),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleLogin=function(e,t){a.setState({authenticated:!0,user:e,isAdmin:t}),localStorage.setItem("user",e),localStorage.setItem("isAdmin",t)},a.handleReloadData=function(){a.getData()},a.handleMeetSelect=function(e){a.setState({selectedMeet:e.target.value,selectedRace:1}),localStorage.setItem("selectedMeet",e.target.value)},a.handleRaceSelect=function(e){a.setState({selectedRace:parseInt(e.target.id,10)})},a.handleTabSelect=function(e){a.setState({selectedTab:e})},a.handleSaveTips=function(e,t){y.a.get(a.databaseURL+"/tips").then(function(s){var n=a.state.tips,r=s.data.find(function(e){return e.meetId===a.state.selectedMeet}),c=r.races[e-1].punters.find(function(e){return e.punterId===a.state.user}),l=s.data.indexOf(r),i=s.data[l].races[e-1].punters.indexOf(c);r.races[e-1].punters[i].tips=t.selections,n[l]=r,y.a.put(a.databaseURL+"/tips/"+a.state.selectedMeet,r),a.setState({tips:n})})},a.handleSavePlacings=function(e,t){var s=a.state.raceMeets,n=s.find(function(e){return e.meetId===a.state.selectedMeet}),r=s.indexOf(n);n.races[e-1].placings=t,s[r]=n,y.a.put(a.databaseURL+"/racemeets/"+a.state.selectedMeet,n),a.setState({raceMeets:s})},a.handleSaveStatus=function(e){var t=a.state.raceMeets,s=t.find(function(e){return e.meetId===a.state.selectedMeet}),n=t.indexOf(s);s.races[e.target.getAttribute("data-race")-1].status=e.target.getAttribute("data-status"),t[n]=s,y.a.put(a.databaseURL+"/racemeets/"+a.state.selectedMeet,s),a.setState({raceMeets:t})},a.handleSaveScratchings=function(e,t){var s=a.state.raceMeets,n=s.find(function(e){return e.meetId===a.state.selectedMeet}),r=s.indexOf(n);n.races[e-1].scratchings=t,s[r]=n,y.a.put(a.databaseURL+"/racemeets/"+a.state.selectedMeet,n),a.setState({raceMeets:s})},a.state={raceMeets:[],punters:[],tips:[],authenticated:!1,user:0,isAdmin:!1,selectedMeet:"TURNBULL",selectedRace:1,selectedTab:1,appLoadFailed:!1,loadingData:!1,counter:0},a.databaseURL="https://sleepy-harbor-88560.herokuapp.com",a.path="/",a.counterInterval=null,a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(t===this.state)}},{key:"getData",value:function(){var e=Object(u.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this;try{t.setState({loadingData:!0}),y.a.all([y.a.get(this.databaseURL+"/racemeets"),y.a.get(this.databaseURL+"/punters"),y.a.get(this.databaseURL+"/tips")]).then(y.a.spread(function(e,a,s){t.setState({raceMeets:e.data,punters:a.data,tips:s.data,loadingData:!1})})).catch(function(e){console.log("An Axios error occurred: "+e),t.setState({loadingData:!1})})}catch(a){console.log("An error occurred: "+a),t.setState({loadingData:!1})}case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.getData(),localStorage.getItem("user")&&this.setState({authenticated:!0,user:parseInt(localStorage.getItem("user"),10),isAdmin:"true"===localStorage.getItem("isAdmin"),selectedMeet:localStorage.getItem("selectedMeet")||"TURNBULL"}),setTimeout(function(){e.state.punters.length||e.setState({appLoadFailed:!0})},3e4),this.counterInterval=setInterval(function(){if(e.state.punters.length)clearInterval(e.counterInterval);else{var t=e.state.counter+1;e.setState({counter:t})}},1e3)}},{key:"render",value:function(){var e=this;return this.state.raceMeets.length?n.a.createElement(g.a,null,n.a.createElement(S,null,n.a.createElement(E.d,null,n.a.createElement(E.b,{exact:!0,path:this.path+"login",render:function(t){return n.a.createElement(w,Object.assign({},t,{path:e.path,punters:e.state.punters,handleLogin:e.handleLogin,authenticated:e.state.authenticated,user:e.state.user,isAdmin:e.state.isAdmin}))}}),n.a.createElement(E.b,{exact:!0,path:this.path+"admin",render:function(t){return e.state.authenticated&&e.state.isAdmin?n.a.createElement(I,Object.assign({},t,{path:e.path,raceMeets:e.state.raceMeets,punters:e.state.punters,selectedMeet:e.state.selectedMeet,onReloadData:e.handleReloadData,loadingData:e.state.loadingData,onMeetChange:e.handleMeetSelect,onPlacingsChange:e.handleSavePlacings,onStatusChange:e.handleSaveStatus,onScratchingChange:e.handleSaveScratchings,user:e.state.user,isAdmin:e.state.isAdmin})):n.a.createElement(E.a,{to:e.path+"login"})}}),n.a.createElement(E.b,{exact:!0,path:this.path+"information",render:function(t){return e.state.authenticated?n.a.createElement(D,Object.assign({},t,{path:e.path,punters:e.state.punters,onReloadData:e.handleReloadData,loadingData:e.state.loadingData,authenticated:e.state.authenticated,user:e.state.user,isAdmin:e.state.isAdmin})):n.a.createElement(E.a,{to:e.path+"login"})}}),n.a.createElement(E.b,{exact:!0,path:this.path+"statistics",render:function(t){return e.state.authenticated?n.a.createElement(A,Object.assign({},t,{path:e.path,raceMeets:e.state.raceMeets,punters:e.state.punters,tips:e.state.tips,selectedTab:e.state.selectedTab,onTabSelect:e.handleTabSelect,onReloadData:e.handleReloadData,loadingData:e.state.loadingData,authenticated:e.state.authenticated,user:e.state.user,isAdmin:e.state.isAdmin})):n.a.createElement(E.a,{to:e.path+"login"})}}),n.a.createElement(E.b,{exact:!0,path:this.path+"tips",render:function(t){return e.state.authenticated?n.a.createElement(L,Object.assign({},t,{path:e.path,raceMeets:e.state.raceMeets,tips:e.state.tips,punters:e.state.punters,selectedMeet:e.state.selectedMeet,onReloadData:e.handleReloadData,loadingData:e.state.loadingData,onMeetChange:e.handleMeetSelect,onSelectionChange:e.handleSaveTips,user:e.state.user,isAdmin:e.state.isAdmin})):n.a.createElement(E.a,{to:e.path+"login"})}}),n.a.createElement(E.b,{exact:!0,path:this.path+"results",render:function(t){return e.state.authenticated?n.a.createElement(H,Object.assign({},t,{path:e.path,raceMeets:e.state.raceMeets,punters:e.state.punters,tips:e.state.tips,selectedMeet:e.state.selectedMeet,selectedRace:e.state.selectedRace,onReloadData:e.handleReloadData,loadingData:e.state.loadingData,onMeetChange:e.handleMeetSelect,onRaceChange:e.handleRaceSelect,user:e.state.user,isAdmin:e.state.isAdmin})):n.a.createElement(E.a,{to:e.path+"login"})}}),n.a.createElement(E.b,{exact:!0,path:this.path+"leaderboard",render:function(t){return e.state.authenticated?n.a.createElement(F,Object.assign({},t,{path:e.path,raceMeets:e.state.raceMeets,punters:e.state.punters,tips:e.state.tips,user:e.state.user,onReloadData:e.handleReloadData,loadingData:e.state.loadingData,isAdmin:e.state.isAdmin})):n.a.createElement(E.a,{to:e.path+"login"})}}),n.a.createElement(E.a,{from:"/",to:this.path+"results"})))):this.state.appLoadFailed?n.a.createElement("div",{className:"timeout-msg"},n.a.createElement("img",{src:"steve.gif",alt:"Steve Harvey - What's wrong withchu?"}),n.a.createElement("p",null,"It seems like something has gone wrong with the database..."),n.a.createElement("p",null,"Curse you free Heroku account!"),n.a.createElement("p",null,"*shakes fist at the sky*")):n.a.createElement("div",{className:"loading-msg"},n.a.createElement("img",{src:"cat.gif",alt:"Cat swinging its tail"}),n.a.createElement("div",{className:"text"},"LOADING..."),n.a.createElement("div",null,this.state.counter," seconds"))}}]),t}(s.Component));a(66);i()(),c.a.render(n.a.createElement(Y,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.d08a2f61.chunk.js.map